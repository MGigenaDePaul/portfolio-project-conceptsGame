/* ConceptBubble.css - RESPONSIVE VERSION - FIXED */

/* ========== ANIMACIONES DE SPAWN ========== */
@keyframes bubbleSpawn {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.3);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* Animaci√≥n r√°pida para elementos reci√©n combinados */
@keyframes bubbleSpawnFast {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
  }
  60% {
    transform: translate(-50%, -50%) scale(1.15);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

.concept-bubble {
  position: absolute;
  display: flex;
  align-items: center;
  min-width: clamp(70px, 15vw, 92.38px);
  min-height: clamp(32px, 6vh, 38px);
  gap: clamp(4px, 1.5vw, 8px);
  padding: clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px);
  background: #161a1d;
  border: 1px solid rgba(200, 209, 219, 0.15);
  border-radius: 10px;
  color: #c7d1db;
  white-space: nowrap;
  backdrop-filter: blur(10px);
  transition:
    transform 0.15s ease,
    border-color 0.15s ease,
    box-shadow 0.15s ease,
    background 0.15s ease;
  transform: translate(-50%, -50%);

  /* drag essentials */
  touch-action: none;
  user-select: none;
  cursor: grab;

  /* üîß FIX: NO z-index aqu√≠ para que App.jsx controle el z-index */
}

/* Estado inicial: oculto */
.concept-bubble.spawning {
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.3);
}

/* Estado de aparici√≥n normal (spawn inicial) */
.concept-bubble.spawned {
  animation: bubbleSpawn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Estado de aparici√≥n r√°pida (elementos combinados) */
.concept-bubble.spawned-fast {
  animation: bubbleSpawnFast 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.concept-bubble:active {
  cursor: grabbing;
}

.concept-bubble:hover {
  background: none;
  border-color: none;
  transform: translate(-50%, -50%) scale(1.03);
}

/* Dragging state */
.concept-bubble.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
  cursor: grabbing;
}

/* Drop target state */
.concept-bubble.drop-target {
  border-color: none;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

.concept-emoji {
  font-size: clamp(18px, 4vw, 24px);
  line-height: 1;
  flex-shrink: 0;
}

.concept-name {
  font-size: clamp(12px, 2.5vw, 15px);
  font-weight: 600;
  letter-spacing: 0.3px;
}

/* ========== ESTILOS ESPEC√çFICOS POR ELEMENTO ========== */

/* FIRE üî• */
.concept-bubble.concept-fire:hover,
.concept-bubble.concept-fire.dragging {
  background: #4f0b07;
  border-color: #ff4131;
}

.concept-bubble.concept-fire.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-fire.drop-target {
  background: #4f0b07;
  border-color: #ff4131;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* EARTH üåç */
.concept-bubble.concept-earth:hover,
.concept-bubble.concept-earth.dragging {
  background: #003400;
  border-color: #00e900;
}

.concept-bubble.concept-earth.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-earth.drop-target {
  background: #003400;
  border-color: #00e900;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* WATER üíß */
.concept-bubble.concept-water:hover,
.concept-bubble.concept-water.dragging {
  background: #0e2459;
  border-color: #55a9ff;
}

.concept-bubble.concept-water.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-water.drop-target {
  background: #0e2459;
  border-color: #55a9ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* AIR üå™Ô∏è */
.concept-bubble.concept-air:hover,
.concept-bubble.concept-air.dragging {
  background: #2e2e2e;
  border-color: #d3d3d3;
}

.concept-bubble.concept-air.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-air.drop-target {
  background: #2e2e2e;
  border-color: #d3d3d3;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* ATMOSPHERE üåç */
.concept-bubble.concept-atmosphere:hover,
.concept-bubble.concept-atmosphere.dragging {
  background: #00304e;
  border-color: #00d9ff;
}

.concept-bubble.concept-atmosphere.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-atmosphere.drop-target {
  background: #00304e;
  border-color: #00d9ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* SMOKE üí® */
.concept-bubble.concept-smoke:hover,
.concept-bubble.concept-smoke.dragging {
  background: #2e2e2e;
  border-color: #bebebe;
}

.concept-bubble.concept-smoke.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-smoke.drop-target {
  background: #2e2e2e;
  border-color: #bebebe;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* MUD üü§ */
.concept-bubble.concept-mud:hover,
.concept-bubble.concept-mud.dragging {
  background: #4c1300;
  border-color: #ff6300;
}

.concept-bubble.concept-mud.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-mud.drop-target {
  background: #4c1300;
  border-color: #ff6300;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* VOLCANO üåã */
.concept-bubble.concept-volcano:hover,
.concept-bubble.concept-volcano.dragging {
  background: #4f0d00;
  border-color: #ff4900;
}

.concept-bubble.concept-volcano.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-volcano.drop-target {
  background: #4f0d00;
  border-color: #ff4900;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* STEAM ‚òÅÔ∏èüíß */
.concept-bubble.concept-steam:hover,
.concept-bubble.concept-steam.dragging {
  background: #002b55;
  border-color: #00c5ff;
}

.concept-bubble.concept-steam.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-steam.drop-target {
  background: #002b55;
  border-color: #00c5ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* OCEAN üåä */
.concept-bubble.concept-ocean:hover,
.concept-bubble.concept-ocean.dragging {
  background: #002d52;
  border-color: #00ceff;
}

.concept-bubble.concept-ocean.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-ocean.drop-target {
  background: #002d52;
  border-color: #00ceff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* OXYGEN üß™ */
.concept-bubble.concept-oxygen:hover,
.concept-bubble.concept-oxygen.dragging {
  background: #003442;
  border-color: #00e9ff;
}

.concept-bubble.concept-oxygen.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-oxygen.drop-target {
  background: #003442;
  border-color: #00e9ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* INFERNO üí• */
.concept-bubble.concept-inferno:hover,
.concept-bubble.concept-inferno.dragging {
  background: #4f0d00;
  border-color: #ff4900;
}

.concept-bubble.concept-inferno.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-inferno.drop-target {
  background: #4f0d00;
  border-color: #ff4900;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* MOUNTAIN ‚õ∞Ô∏è */
.concept-bubble.concept-mountain:hover,
.concept-bubble.concept-mountain.dragging {
  background: #451c00;
  border-color: #ff8c00;
}

.concept-bubble.concept-mountain.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-mountain.drop-target {
  background: #451c00;
  border-color: #ff8c00;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* CLOUD ‚òÅÔ∏è */
.concept-bubble.concept-cloud:hover,
.concept-bubble.concept-cloud.dragging {
  background: #052659;
  border-color: #27afff;
}

.concept-bubble.concept-cloud.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-cloud.drop-target {
  background: #052659;
  border-color: #27afff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* PLASMA ‚ö° */
.concept-bubble.concept-plasma:hover,
.concept-bubble.concept-plasma.dragging {
  background: #36164e;
  border-color: #f173ff;
}

.concept-bubble.concept-plasma.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-plasma.drop-target {
  background: #36164e;
  border-color: #f173ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* SMOG üå´Ô∏è */
.concept-bubble.concept-smog:hover,
.concept-bubble.concept-smog.dragging {
  background: #451c00;
  border-color: #ff8c00;
}

.concept-bubble.concept-smog.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-smog.drop-target {
  background: #451c00;
  border-color: #ff8c00;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* DUST üí® */
.concept-bubble.concept-dust:hover,
.concept-bubble.concept-dust.dragging {
  background: #441d00;
  border-color: #ff8f00;
}

.concept-bubble.concept-dust.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-dust.drop-target {
  background: #441d00;
  border-color: #ff8f00;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* Sky ‚òÅÔ∏è */
.concept-bubble.concept-sky:hover,
.concept-bubble.concept-sky.dragging {
  background: #00304e;
  border-color: #00d9ff;
}

.concept-bubble.concept-sky.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-dust.sky.drop-target {
  background: #00304e;
  border-color: #00d9ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* Dragon üêâ */
.concept-bubble.concept-dragon:hover,
.concept-bubble.concept-dragon.dragging {
  background: #4f0b07;
  border-color: #ff4131;
}

.concept-bubble.concept-dragon.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-dragon.drop-target {
  background: #4f0b07;
  border-color: #ff4131;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* Sea üåä */
.concept-bubble.concept-sea:hover,
.concept-bubble.concept-sea.dragging {
  background: #002a56;
  border-color: #00c2ff;
}

.concept-bubble.concept-sea.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept.sea.drop-target {
  background: #002a56;
  border-color: #00c2ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* Vapor üí® */
.concept-bubble.concept-vapor:hover,
.concept-bubble.concept-vapor.dragging {
  background: #002b56;
  border-color: #00c4ff;
}

.concept-bubble.concept-vapor.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept.vapor.drop-target {
  background: #002b56;
  border-color: #00c4ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* Clay üü§ */
.concept-bubble.concept-clay:hover,
.concept-bubble.concept-clay.dragging {
  background: #4c1300;
  border-color: #ff6300;
}

.concept-bubble.concept-clay.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept.clay.drop-target {
  background: #4c1300;
  border-color: #ff6300;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* Lava üåãüî• */
.concept-bubble.concept-lava:hover,
.concept-bubble.concept-lava.dragging {
  background: #4f0d00;
  border-color: #ff4900;
}

.concept-bubble.concept-lava.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept.lava.drop-target {
  background: #4f0d00;
  border-color: #ff4900;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* Humidity üíß */
.concept-bubble.concept-humidity:hover,
.concept-bubble.concept-humidity.dragging {
  background: #00304e;
  border-color: #00d9ff;
}

.concept-bubble.concept-humidity.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept.humidity.drop-target {
  background: #00304e;
  border-color: #00d9ff;
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}


/* ============================================ */
/* MEDIA QUERIES - MOBILE OPTIMIZATIONS */
/* ============================================ */

/* Small mobile (hasta 480px) */
@media (max-width: 480px) {
  .concept-bubble {
    min-width: 65px;
    min-height: 30px;
    padding: 6px 10px;
    gap: 4px;
    border-radius: 8px;
  }

  .concept-emoji {
    font-size: 16px;
  }

  .concept-name {
    font-size: 11px;
  }

  /* Escala m√°s peque√±a en hover/drag para m√≥viles */
  .concept-bubble:hover,
  .concept-bubble.dragging {
    transform: translate(-50%, -50%) scale(1.02);
  }

  .concept-bubble.drop-target {
    transform: translate(-50%, -50%) scale(1.04);
  }
}

/* Tablets (481px - 768px) */
@media (min-width: 481px) and (max-width: 768px) {
  .concept-bubble {
    min-width: 75px;
    min-height: 34px;
    padding: 7px 12px;
    gap: 6px;
  }

  .concept-emoji {
    font-size: 20px;
  }

  .concept-name {
    font-size: 13px;
  }
}

/* Landscape mobile (altura muy peque√±a) */
@media (max-height: 500px) and (orientation: landscape) {
  .concept-bubble {
    min-width: 60px;
    min-height: 26px;
    padding: 5px 8px;
    gap: 3px;
    border-radius: 6px;
  }

  .concept-emoji {
    font-size: 14px;
  }

  .concept-name {
    font-size: 10px;
  }
}

/* Touch devices - aumentar √°rea t√°ctil */
@media (hover: none) and (pointer: coarse) {
  .concept-bubble {
    /* √Årea t√°ctil m√≠nima de 44x44px (recomendado por Apple) */
    min-width: 44px;
    min-height: 44px;
  }

  /* Eliminar hover en dispositivos t√°ctiles */
  .concept-bubble:hover {
    background: #161a1d;
    border-color: rgba(200, 209, 219, 0.15);
    transform: translate(-50%, -50%);
  }
}
