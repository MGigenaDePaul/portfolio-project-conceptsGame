/* ConceptBubble.css - RESPONSIVE VERSION */

/* ========== ANIMACIONES DE SPAWN ========== */
@keyframes bubbleSpawn {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.3);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* Animaci√≥n r√°pida para elementos reci√©n combinados */
@keyframes bubbleSpawnFast {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
  }
  60% {
    transform: translate(-50%, -50%) scale(1.15);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

.concept-bubble {
  position: absolute;
  display: flex;
  align-items: center;
  min-width: clamp(70px, 15vw, 92.38px); /* responsive width */
  min-height: clamp(32px, 6vh, 38px); /* responsive height */
  gap: clamp(4px, 1.5vw, 8px); /* responsive gap */
  padding: clamp(8px, 2vw, 10px) clamp(12px, 3vw, 16px); /* responsive padding */
  background: #161a1d;
  border: 1px solid rgba(200, 209, 219, 0.15);
  border-radius: 10px;
  color: #c7d1db;
  white-space: nowrap;
  backdrop-filter: blur(10px);
  transition:
    transform 0.15s ease,
    border-color 0.15s ease,
    box-shadow 0.15s ease,
    background 0.15s ease;
  transform: translate(-50%, -50%);
  
  /* drag essentials */
  touch-action: none;
  user-select: none;
  cursor: grab;
}

/* Estado inicial: oculto */
.concept-bubble.spawning {
  opacity: 0;
  transform: translate(-50%, -50%) scale(0.3);
}

/* Estado de aparici√≥n normal (spawn inicial) */
.concept-bubble.spawned {
  animation: bubbleSpawn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  /* cubic-bezier para efecto de rebote suave */
}

/* Estado de aparici√≥n r√°pida (elementos combinados) */
.concept-bubble.spawned-fast {
  animation: bubbleSpawnFast 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  /* M√°s r√°pido: 0.25s en vez de 0.4s */
}

.concept-bubble:active {
  cursor: grabbing;
}

.concept-bubble:hover {
  background: rgba(40, 45, 50, 0.95);
  border-color: rgba(139, 92, 246, 0.4);
  transform: translate(-50%, -50%) scale(1.03);
}

/* Dragging state */
.concept-bubble.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
  cursor: grabbing;
}

/* Drop target state */
.concept-bubble.drop-target {
  border-color: rgba(139, 92, 246, 0.85);
  box-shadow:
    0 0 0 2px rgba(139, 92, 246, 0.25),
    0 0 30px rgba(139, 92, 246, 0.35),
    0 10px 30px rgba(0, 0, 0, 0.35);
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

.concept-emoji {
  font-size: clamp(18px, 4vw, 24px); /* responsive emoji */
  line-height: 1;
  flex-shrink: 0;
}

.concept-name {
  font-size: clamp(12px, 2.5vw, 15px); /* responsive text */
  font-weight: 600;
  letter-spacing: 0.3px;
}

/* ========== ESTILOS ESPEC√çFICOS POR ELEMENTO ========== */

/* FIRE üî• */
.concept-bubble.concept-fire:hover,
.concept-bubble.concept-fire.dragging {
  background: #4f0b07;
  border-color: #ff4131;
}

.concept-bubble.concept-fire.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-fire.drop-target {
  background: #4f0b07;
  border-color: #ff4131;
  box-shadow:
    0 0 0 2px rgba(255, 65, 49, 0.35),
    0 0 30px rgba(255, 65, 49, 0.5),
    0 10px 30px rgba(79, 11, 7, 0.4);
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* EARTH üåç */
.concept-bubble.concept-earth:hover,
.concept-bubble.concept-earth.dragging {
  background: #003400;
  border-color: #00e900;
}

.concept-bubble.concept-earth.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-earth.drop-target {
  background: #003400;
  border-color: #00e900;
  box-shadow:
    0 0 0 2px rgba(0, 233, 0, 0.35),
    0 0 30px rgba(0, 233, 0, 0.5),
    0 10px 30px rgba(0, 52, 0, 0.4);
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* WATER üíß */
.concept-bubble.concept-water:hover,
.concept-bubble.concept-water.dragging {
  background: #0e2459;
  border-color: #55a9ff;
}

.concept-bubble.concept-water.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-water.drop-target {
  background: #0e2459;
  border-color: #55a9ff;
  box-shadow:
    0 0 0 2px rgba(85, 169, 255, 0.35),
    0 0 30px rgba(85, 169, 255, 0.5),
    0 10px 30px rgba(14, 36, 89, 0.4);
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* AIR üå™Ô∏è */
.concept-bubble.concept-air:hover,
.concept-bubble.concept-air.dragging {
  background: #2e2e2e;
  border-color: #d3d3d3;
}

.concept-bubble.concept-air.dragging {
  transform: translate(-50%, -50%) rotate(-2deg) scale(1.03);
}

.concept-bubble.concept-air.drop-target {
  background: #2e2e2e;
  border-color: #d3d3d3;
  box-shadow:
    0 0 0 2px rgba(211, 211, 211, 0.35),
    0 0 30px rgba(211, 211, 211, 0.5),
    0 10px 30px rgba(46, 46, 46, 0.4);
  transform: translate(-50%, -50%) rotate(1deg) scale(1.06);
}

/* ATMOSPHERE üåç */
.concept-bubble.concept-atmosphere:hover,
.concept-bubble.concept-atmosphere.dragging {
  background: #00304e;
  border-color: #00d9ff;
}

.concept-bubble.concept-atmosphere.drop-target {
  background: #00304e;
  border-color: #00d9ff;
  transform: translate(-50%, -50%) scale(1.06);
}

/* SMOKE üí® */
.concept-bubble.concept-smoke:hover,
.concept-bubble.concept-smoke.dragging {
  background: #2e2e2e;
  border-color: #bebebe;
}

.concept-bubble.concept-smoke.drop-target {
  background: #2e2e2e;
  border-color: #bebebe;
  transform: translate(-50%, -50%) scale(1.06);
}

/* MUD üü§ */
.concept-bubble.concept-mud:hover,
.concept-bubble.concept-mud.dragging {
  background: #4c1300;
  border-color: #ff6300;
}

.concept-bubble.concept-mud.drop-target {
  background: #4c1300;
  border-color: #ff6300;
  transform: translate(-50%, -50%) scale(1.06);
}

/* VOLCANO üåã */
.concept-bubble.concept-volcano:hover,
.concept-bubble.concept-volcano.dragging {
  background: #4f0d00;
  border-color: #ff4900;
}

.concept-bubble.concept-volcano.drop-target {
  background: #4f0d00;
  border-color: #ff4900;
  transform: translate(-50%, -50%) scale(1.06);
}

/* STEAM ‚òÅÔ∏èüíß */
.concept-bubble.concept-steam:hover,
.concept-bubble.concept-steam.dragging {
  background: #002b55;
  border-color: #00c5ff;
}

.concept-bubble.concept-steam.drop-target {
  background: #002b55;
  border-color: #00c5ff;
  transform: translate(-50%, -50%) scale(1.06);
}

/* OCEAN üåä */
.concept-bubble.concept-ocean:hover,
.concept-bubble.concept-ocean.dragging {
  background: #002d52;
  border-color: #00ceff;
}

.concept-bubble.concept-ocean.drop-target {
  background: #002d52;
  border-color: #00ceff;
  transform: translate(-50%, -50%) scale(1.06);
}

/* OXYGEN üß™ */
.concept-bubble.concept-oxygen:hover,
.concept-bubble.concept-oxygen.dragging {
  background: #003442;
  border-color: #00e9ff;
}

.concept-bubble.concept-oxygen.drop-target {
  background: #003442;
  border-color: #00e9ff;
  transform: translate(-50%, -50%) scale(1.06);
}

/* INFERNO üí• */
.concept-bubble.concept-inferno:hover,
.concept-bubble.concept-inferno.dragging {
  background: #4f0d00;
  border-color: #ff4900;
}

.concept-bubble.concept-inferno.drop-target {
  background: #4f0d00;
  border-color: #ff4900;
  transform: translate(-50%, -50%) scale(1.06);
}

/* MOUNTAIN ‚õ∞Ô∏è */
.concept-bubble.concept-mountain:hover,
.concept-bubble.concept-mountain.dragging {
  background: #451c00;
  border-color: #ff8c00;
}

.concept-bubble.concept-mountain.drop-target {
  background: #451c00;
  border-color: #ff8c00;
  transform: translate(-50%, -50%) scale(1.06);
}

/* ============================================ */
/* MEDIA QUERIES - MOBILE OPTIMIZATIONS */
/* ============================================ */

/* Small mobile (hasta 480px) */
@media (max-width: 480px) {
  .concept-bubble {
    min-width: 65px;
    min-height: 30px;
    padding: 6px 10px;
    gap: 4px;
    border-radius: 8px;
  }

  .concept-emoji {
    font-size: 16px;
  }

  .concept-name {
    font-size: 11px;
  }

  /* Escala m√°s peque√±a en hover/drag para m√≥viles */
  .concept-bubble:hover,
  .concept-bubble.dragging {
    transform: translate(-50%, -50%) scale(1.02);
  }

  .concept-bubble.drop-target {
    transform: translate(-50%, -50%) scale(1.04);
  }
}

/* Tablets (481px - 768px) */
@media (min-width: 481px) and (max-width: 768px) {
  .concept-bubble {
    min-width: 75px;
    min-height: 34px;
    padding: 7px 12px;
    gap: 6px;
  }

  .concept-emoji {
    font-size: 20px;
  }

  .concept-name {
    font-size: 13px;
  }
}

/* Landscape mobile (altura muy peque√±a) */
@media (max-height: 500px) and (orientation: landscape) {
  .concept-bubble {
    min-width: 60px;
    min-height: 26px;
    padding: 5px 8px;
    gap: 3px;
    border-radius: 6px;
  }

  .concept-emoji {
    font-size: 14px;
  }

  .concept-name {
    font-size: 10px;
  }
}

/* Touch devices - aumentar √°rea t√°ctil */
@media (hover: none) and (pointer: coarse) {
  .concept-bubble {
    /* √Årea t√°ctil m√≠nima de 44x44px (recomendado por Apple) */
    min-width: 44px;
    min-height: 44px;
  }

  /* Eliminar hover en dispositivos t√°ctiles */
  .concept-bubble:hover {
    background: #161a1d;
    border-color: rgba(200, 209, 219, 0.15);
    transform: translate(-50%, -50%);
  }
}